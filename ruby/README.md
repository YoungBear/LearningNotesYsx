# Ruby 学习笔记

http://www.runoob.com/ruby/ruby-tutorial.html

## 语法

### BEGIN 语句
语法：

```
BEGIN {
    code
}
```

功能：声明code会在程序运行之前被调用。

### END 语句
语法：

```
END {
    code
}
```
功能：声明code会在程序的结尾被调用。

### 注释

```
# 单行注释
name = 'Madisetti' # 行尾注释
=begin和=end之前也可以多行注释
=begin
注释
注释
注释
=end
```

### 替换表达式

可以使用序列#{expr}替换任意Ruby表达式的值为一个字符串。在这里，expr可以是任意的Ruby表达式。

eg.

```
#!/usr/bin/ruby -w

puts "相乘 ： #{24*60*60}";
```

运行后输出结果为: `相乘 ： 86400`

```
#!/usr/bin/ruby -w

name="Ruby"
puts name
puts "#{name+",ok"}";
```
运行后输出结果为:

```
Ruby
Ruby,ok
```

### 数组

使用[]定义。eg.

```
#!/usr/bin/ruby
ary = [ "fred", 10, 3.14, "This is a string", "last element", ]
ary.each do |i|
    puts i
end
```

### 哈希
键值对，键和值之间使用逗号和序列 => 分隔。尾部的逗号会被忽略。

eg.

```
#!/usr/bin/ruby
 
hsh = colors = { "red" => 0xf00, "green" => 0x0f0, "blue" => 0x00f }
hsh.each do |key, value|
    print key, " is ", value, "\n"
end
```

### 返回类型

范围是通过设置一个开始值和一个结束值来表示。范围可使用 s..e 和 s...e 来构造，或者通过 Range.new 来构造。

使用 .. (两个点)构造的范围从开始值运行到结束值（包含结束值）。使用 ... (三个点)构造的范围从开始值运行到结束值（不包含结束值）。当作为一个迭代器使用时，范围会返回序列中的每个值。

范围 (1..5) 意味着它包含值 1, 2, 3, 4, 5，范围 (1...5) 意味着它包含值 1, 2, 3, 4 。


### 类
语法:

```
class <类名>

end
```

Ruby 中的变量:

- **局部变量**: 局部变量是在方法中定义的变量。局部变量在方法外是不可用的。局部变量以小写字符或_开始。
- **实例变量**: 实例变量可以跨任何特定的实例或对象中的方法使用。这意味着，实例变量可以从对象到对象的改变。实例变量在变量名之前放置符号（@）。
- **类变量**: 类变量可以跨不同的对象使用。类变量属于类，且是类的一个属性。类变量在变量名之前放置符号（@@）。
- **全局变量**：全局变量可以跨类使用的变量。全局变量总是以美元符号（$）开始。
- **常量**: 常量以大写字母开头。定义在类或模块内的常量可以从类或模块的内部访问，定义在类或模块外的常量可以被全局访问。**常量不能定义在方法内**。引用一个未初始化的常量会产生错误。对已经初始化的常量赋值会产生警告。

new方法相当于java中的new，它会调用initialize方法，其initialize相当于构造方法，在new调用的时候，会自动调用initialize。

成员函数(方法)：**以def开头**，后边跟方法名，方法名总是以小写字母开始，**以end结尾**。

语法:

```
class Sample
    def function
        statement 1
        statement 2
    end
end
```

### Ruby 伪变量
它们是特殊的变量，有着局部变量的外观，但行为却像常量。不能给这些变量赋任何值。

- **self**: 当前方法的接收器对象。
- **true**: 代表true的值。
- **false**: 代表false的值。
- **nil**: 代表undefined的值。
- **`__FILE__`**: 当前源文件的名称。
- **`__LINE__`**: 当前行在源文件中的编号。


















